<div class="row">
	<div class="col-xs-12">
		<div data-bind="template: { name: progress }"></div>
		<script type="text/html" id="one">
		    <h3>Welcome to DishGo</h3>
		    <h4>First we need your email address and phone number. You can setup you password later.</h4>
		</script>
		<script type="text/html" id="two">
		    <h4>Now tell us a little about your restaurant. You can fill in more detailed information later.</h4>
		</script>
		<script type="text/html" id="three">
		    <h4>Now you can upload your menu. We prefer PDF menus because they are easier to enter, but even clear pictures of your menu will do. Just drag the files onto the space below, or click the button and add them one at a time.</h4>
		</script>
		<script type="text/html" id="four">
		    <h4>You are almost done! The last thing you need to do is complete the payment form below. Click Pay with Card and let Stripe guide you through the payment process. Afterwards we will immediately start working on your menu. You will be notified as soon as it is ready!</h4>
		</script>						
	</div>
	<div class="col-xs-12">
		<div data-bind="template: { name: $root.progress() + '_meat', afterRender: myPostProcessingLogic }"></div>

		<script type="text/html" id="one_meat">
		    <form class="form-horizontal col-xs-6 col-xs-offset-3" data-bind="with: $root.current_user">
	            <div class="form-group">
	                <label>Personal Email</label>
	                <div class="controls">
	                    <input id="email" name="email" type="text" placeholder="Email" data-bind="value: email" class="form-control">
	                    <p class="help-block"></p>
	                </div>
	            </div>
	            <div class="form-group">
	                <label>Phone Number</label>
	                <div class="controls">
	                    <input id="phone" name="phone" type="text" placeholder="555-555-5555" data-bind="phone: phone" class="form-control">
	                    <p class="help-block"></p>
	                </div>
	            </div>                                                                 
		    </form>
	        <button class="btn btn-dish col-xs-12" data-bind="click: function() { $root.current_user().createSignUpUser() }">Next <i class="fa fa-spinner fa-spin" data-bind="visible: spin"></i></button>
		</script>
		<script type="text/html" id="two_meat">
			<div class="col-xs-12" data-bind="with: $root.current_restaurant">
                <div class="form-group col-xs-6">
                    <label>Restaurant Name</label>
                    <div class="controls">
                        <input id="resturant_name" name="resturant_name" type="text" placeholder="Restaurant Name" data-bind="value: name" class="form-control">
                    </div>
                </div>
                <div class="form-group col-xs-6">
                    <label>Phone Number</label>
                    <div class="controls" data-bind="css:{'has-error':!validatePhone()}">
                        <input id="phone" name="phone" type="text" placeholder="555-555-5555" data-bind="value: phone" class="form-control">
                    </div>
                </div>

                <div class="col-xs-12 location_search_form">
                    <input placeholder="Search Location" class="form-control" data-bind="value: $root.address, valueUpdate: 'keyup'" />
                    <i id="location_spinner" class="fa-li fa fa-spinner fa-spin" data-bind="visible: $root.spin"></i>
                </div>
                <div class="col-xs-12" style="margin-top: 15px">
                    <div id="location_map" data-bind="iMap: $root.mapObject" style="max-height: 300px"></div>
                </div>                         
                <div class="col-xs-12" style="margin-top: 15px">
	        		<button class="btn btn-dish col-xs-12" data-bind="click: function() { clean_save() }">Next <i class="fa fa-spinner fa-spin" data-bind="visible: spin"></i></button>
	        	</div>

	        </div>
		</script>

		<script type="text/html" id="three_meat">
		    <div class="col-xs-6" data-bind="with: current_restaurant">
		        <div class="file_upload_menu_button">
		            <span class="btn btn-info upload_button"><i class="glyphicon glyphicon-picture"></i> Add Menu File</span>
		            <!-- The file input field used as target for the file upload widget -->
		            <input data-bind="file_upload_sign_up: menu_files" id="fileupload" type="file" name="files"  class="file_upload_menu">
		        </div>    
            </div>
		    <div class="col-xs-6" data-bind="with: current_restaurant">
				<div data-bind="template: { name: 'menu_file', foreach: list_menu_files}"></div>
			</div>
            <div class="col-xs-12" style="margin-top: 15px">
        		<button class="btn btn-dish col-xs-12" data-bind="click: pay">Next</button>
        	</div>			
		</script>

		<script type="text/html" id="four_meat">
			<div class="col-xs-12 text-center" style="margin-top: 25px">
				<form action="/app/letsdishgo/charge" method="POST">
				  <noscript
				    src="https://checkout.stripe.com/checkout.js" class="stripe-button"
				    data-key="pk_test_7ctTZFdEpfDZ5sxVarqyeQwL"
				    data-image="https://d5ca3b0520fac45026ad-6caa6fe89e7dac3eaf12230f0985b957.ssl.cf5.rackcdn.com/relaease_icon@2x.png"
				    data-name="Lets DishGo"
				    data-description="Single Restaurant Menu Listing"
				    data-amount="3500">
				  </noscript>
				</form>
			</div>
		</script>		

	</div>
</div>


<script id="menu_file" type="text/html">
    <div class="col-xs-4 push_down gallery_image">
        <div data-bind="visible: !failed()">
            <div class="completed_image menu_file_display">
                <i class="fa fa-times galleryKill" data-bind="click: destroy"></i>
                <a data-bind="attr:{href:url}" target="_blank"><i class="fa fa-file" style="font-size: 4em"></i></a>
	            <div class="uploading_image" data-bind="visible: !completed() && started()">
                    <div class="progress" style="height: 10px">
                        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="style: { width: progressValue() + '%'}"></div>
                    </div>    
	            </div>                                 
                <p data-bind="text: name"></p>
            </div> 
        </div>
    </div>
</script> 